<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css"
  integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<link rel="stylesheet" href="/public/css/home.css" />
<body>
  <div class="container-fluid p-0 main-container">
    <div class="row m-0 h-100 p-0">
      <div class="col-md-2 sidebar-section p-0">
        <div class="sidebar-header">
          <div class="row m-0 h-100">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
            >
              <div class="text text-center">
                <h5>EXPENSE</h5>
                <p>
                  App Karch Karo hmmm... manage karenege
                  <span class="text-warning" id="user-email"></span>
                </p>
              </div>
            </div>
          </div>
        </div>
        <ul class="nav flex-column w-100">
          <li class="nav-item">
            <a class="nav-link active" href="#info-section">
              <span class="me-2 bi bi-house"></span>Home</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#expense-section">
              <span class="me-e bi bi-speedometer2"></span>
              Expense</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#income-section">
              <span class="me-2 bi bi-cash"></span>Income</a
            >
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#reports-section">
              <span class="me-2 bi bi-graph-up"></span>Reports</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" onclick="logout()">
              <span class="me-2 bi bi-box-arrow-right"></span>logout</a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-10 content-section p-0">
        <header id="header" class="p-0">
          <div class="row m-0 h-100">
            <div class="col-md-6 d-flex align-items-center">
              <h5>
                Welcome Back ! <span class="text-warning" id="user-name"></span>
              </h5>
            </div>
            <div
              class="col-md-6 d-flex justify-content-end align-items-center"
            ></div>
          </div>
        </header>
        <section class="info-section p-4" id="info-section">
          <div class="row m-0">
            <div class="col-md-4">
              <div
                class="card d-flex justify-content-center align-items-center"
              >
                <div class="text-center">
                  <h6><b>Total Income</b></h6>
                  <h5><span class="text-warning" id="t_income"></span></h5>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div
                class="card d-flex justify-content-center align-items-center"
              >
                <div class="text-center">
                  <h6><b>Total Expense</b></h6>
                  <h5><span class="text-warning" id="t_expense"></span></h5>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div
                class="card d-flex justify-content-center align-items-center"
              >
                <div class="text-center">
                  <h6><b>Total Net Saving</b></h6>
                  <h5><span class="text-warning" id="t_saving"></span></h5>
                </div>
              </div>
            </div>
          </div>
          <div class="row m-0 mt-2">
            <div class="col-md-6">
              <canvas
                id="bar_graph_category"
                style="height: 420px"
                class="card p-4"
              ></canvas>
            </div>
            <div class="col-md-6">
              <div class="card">
                <div class="row m-0 h-100">
                  <div
                    class="col d-flex justify-content-center align-items-center"
                  >
                    <div class="text-center">
                      <h4>Monthly Income</h4>
                      <h5 class="text-warning" id="mon_income"><b></b></h5>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mt-1">
                <div class="row m-0 h-100">
                  <div
                    class="col d-flex justify-content-center align-items-center"
                  >
                    <div class="text-center">
                      <h4>Monthly Expense</h4>
                      <h5 class="text-warning" id="mon_Expense"><b></b></h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="expense-section p-2" id="expense-section">
          <div class="container">
            <div class="row m-0">
              <div class="col-md-6">
                <h3 class="">Expense Mangement Pannel</h3>
              </div>
              <div class="col-md-6">
                <button
                  class="btn btn-outline-secondary rounded-0 float-end"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal"
                >
                  Add Expense
                </button>
              </div>
            </div>

            <!-- Add Expense Form -->
            <!-- Modal -->
            <div
              class="modal fade"
              id="exampleModal"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                      Add Your Expense
                    </h5>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>
                  <div class="modal-body">
                    <form id="expenseForm">
                      <div class="mb-2">
                        <input
                          type="date"
                          id="date"
                          class="form-control"
                          required
                        />
                      </div>
                      <div class="mb-2">
                        <input
                          type="text"
                          id="category"
                          class="form-control"
                          placeholder="Category"
                          required
                        />
                      </div>
                      <div class="mb-2">
                        <input
                          type="number"
                          id="amount"
                          class="form-control"
                          placeholder="Amount"
                          required
                        />
                      </div>
                      <div class="mb-2">
                        <input
                          type="text"
                          id="description"
                          class="form-control"
                          placeholder="Description"
                        />
                      </div>
                      <button type="submit" class="btn btn-primary w-100">
                        Add Expense
                      </button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Expense List -->
            <div class="card-1 mt-4 p-3 shadow-lg">
              <h4>Expense History</h4>
              <div class="table-responsive scroll-container">
                <table class="table table-bordered table-hover">
                  <thead class="table-dark">
                    <tr>
                      <th>Date</th>
                      <th>Category</th>
                      <th>Amount</th>
                      <th>Description</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="expenseTableBody">
                    <!-- Data will be dynamically inserted -->
                  </tbody>
                </table>
              </div>
              <h5 class="text-end mt-2">
                Total Expense: â‚¹<span id="totalExpense">0</span>
              </h5>
            </div>
          </div>
        </section>
        <section class="income-section" id="income-section"></section>
        <section class="reports-section" id="reports-section"></section>
      </div>
    </div>
  </div>
  <script src="/public/js/home.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</body>
